version: '3'

dotenv: ['.env.local', '.env']

includes:
  infrastructure:remote:
    taskfile: ./Taskfile.infrastructure.remote.yml
    dir: .
  infrastructure:local:
    taskfile: ./Taskfile.infrastructure.local.yml
    dir: .
  infrastructure:terraform:
    taskfile: ./Taskfile.infrastructure.terraform.yml
    dir: .
  docker:
    taskfile: ./Taskfile.docker.yml
    dir: .

tasks:
  install:
    desc: Run yarn install
    cmds:
      - yarn install

  start:
    desc: Run yarn start
    cmds:
      - yarn start

  test:
    desc: Run yarn test
    cmds:
      - yarn test

  lint:
    desc: Run yarn lint
    cmds:
      - yarn lint

  setup-env:
    desc: Set up environment variables
    cmds:
      - ./scripts/setup-env.sh
